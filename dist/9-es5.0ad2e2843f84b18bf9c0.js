function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(l){i=!0,a=l}finally{try{n||null==c.return||c.return()}finally{if(i)throw a}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{xaGl:function(e,t,r){"use strict";r.r(t),r.d(t,"ProfileModule",(function(){return H}));var n,i,a,o,c=r("AytR"),l=r("8Y7J"),s=r("IheW"),u=((n=function(){function e(t){_classCallCheck(this,e),this.http=t}return _createClass(e,[{key:"get",value:function(e){return this.http.get(c.a.apiEndpoint+"api/users/".concat(e))}},{key:"post",value:function(e){return this.http.post(c.a.apiEndpoint+"api/users/".concat(e.id),e)}},{key:"put",value:function(e){return this.http.put(c.a.apiEndpoint+"api/users/".concat(e.id),e)}}]),e}()).\u0275fac=function(e){return new(e||n)(l.Yb(s.b))},n.\u0275prov=l.Kb({token:n,factory:n.\u0275fac}),n),f=r("PCNd"),p=r("Yml6"),b=r("DQLy"),d=r("iInd"),m=Object(b.o)("profile"),h=Object(b.q)(m,(function(e){return e.profile})),j=(Object(b.q)(m,(function(e){return e.loadProfileloading})),Object(b.q)(m,(function(e){return e.profileloaded})),Object(b.q)(m,(function(e){return e.updateProfileLoading}))),O=r("s7LF"),y=r("FhT+"),g=r("vkgz"),v=r("UXun"),P=r("pLZG"),k=r("IzEk"),C=Object(b.n)("[Profile] Load Profile"),w=Object(b.n)("[Profile] Load Profile Success",Object(b.s)()),_=Object(b.n)("[Profile] Load Profile Fail",Object(b.s)()),T=Object(b.n)("[Profile] Update Profile",Object(b.s)()),L=Object(b.n)("[Profile] Update Profile Success",Object(b.s)()),U=Object(b.n)("[Profile] Update Profile Fail",Object(b.s)()),A=r("O13u"),I=r("Q2Ze"),S=r("e6WT"),x=r("Tj54"),E=r("Dxy4"),G=r("SVse"),F=[{path:"**",component:(i=function(){function e(t){var r=this;_classCallCheck(this,e),this.store=t,this.profileGroup=new O.e({firstname:new O.c,lastname:new O.c,email:new O.c}),this.onLogoutClicked=function(){return r.store.dispatch(y.c())}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.store.dispatch(C()),this.loadingUpdate$=this.store.pipe(Object(b.t)(j),Object(g.a)((function(t){return t?e.profileGroup.disable():e.profileGroup.enable()})),Object(v.a)()),this.store.select(h).pipe(Object(P.a)((function(e){return!!e})),Object(k.a)(1),Object(g.a)((function(t){e.profile=t,e.firstname.setValue(t.firstname),e.lastname.setValue(t.lastname),e.email.setValue(t.email)}))).subscribe()}},{key:"updateClicked",value:function(){var e=Object.assign(Object.assign({},this.profile),{firstname:this.firstname.value,lastname:this.lastname.value,email:this.email.value});this.store.dispatch(T({profile:e}))}},{key:"firstname",get:function(){return this.profileGroup.get("firstname")}},{key:"lastname",get:function(){return this.profileGroup.get("lastname")}},{key:"email",get:function(){return this.profileGroup.get("email")}}]),e}(),i.\u0275fac=function(e){return new(e||i)(l.Ob(b.h))},i.\u0275cmp=l.Ib({type:i,selectors:[["app-profile"]],decls:24,vars:7,consts:[[3,"showProgress"],[1,"px-0",3,"formGroup"],["appearance","outline",1,"profile-input","mb-3"],["matInput","","placeholder","Edit Firstname","formControlName","firstname"],["matSuffix",""],["matInput","","placeholder","Edit Lastname","formControlName","lastname"],["matInput","","placeholder","Change Email Address","formControlName","email"],["mat-button","",3,"disabled","click"]],template:function(e,t){1&e&&(l.Ub(0,"app-page-container",0),l.hc(1,"async"),l.Ub(2,"form",1),l.Ub(3,"mat-form-field",2),l.Ub(4,"mat-label"),l.Bc(5,"Firstname"),l.Tb(),l.Pb(6,"input",3),l.Ub(7,"mat-icon",4),l.Bc(8,"perm_identity"),l.Tb(),l.Tb(),l.Ub(9,"mat-form-field",2),l.Ub(10,"mat-label"),l.Bc(11,"Lastname"),l.Tb(),l.Pb(12,"input",5),l.Ub(13,"mat-icon",4),l.Bc(14,"perm_identity"),l.Tb(),l.Tb(),l.Ub(15,"mat-form-field",2),l.Ub(16,"mat-label"),l.Bc(17,"Email Address"),l.Tb(),l.Pb(18,"input",6),l.Ub(19,"mat-icon",4),l.Bc(20,"mail"),l.Tb(),l.Tb(),l.Ub(21,"button",7),l.cc("click",(function(){return t.updateClicked()})),l.hc(22,"async"),l.Bc(23," Update "),l.Tb(),l.Tb(),l.Tb()),2&e&&(l.mc("showProgress",l.ic(1,3,t.loadingUpdate$)),l.Cb(2),l.mc("formGroup",t.profileGroup),l.Cb(19),l.mc("disabled",l.ic(22,5,t.loadingUpdate$)))},directives:[A.a,O.r,O.l,O.f,I.c,I.g,S.b,O.b,O.k,O.d,x.a,I.h,E.b],pipes:[G.b],styles:["mat-form-field[_ngcontent-%COMP%]{max-width:480px;width:360px;display:block}@media only screen and (max-width:600px){mat-form-field[_ngcontent-%COMP%]{max-width:none;width:100%}}"]}),i)}],$=((a=function e(){_classCallCheck(this,e)}).\u0275mod=l.Mb({type:a}),a.\u0275inj=l.Lb({factory:function(e){return new(e||a)},imports:[[d.i.forChild(F)],d.i]}),a),B=r("fcPU"),M=r("LRne"),Y=r("zp1y"),J=r("eIep"),q=r("lJxs"),N=r("JIr8"),R=((o=function e(t,r,n){var i=this;_classCallCheck(this,e),this.actions$=t,this.profileService=r,this.store=n,this.loadProfile$=Object(p.d)((function(){return i.actions$.pipe(Object(p.e)(C),Object(Y.a)(i.store.select(B.d)),Object(J.a)((function(e){var t=_slicedToArray(e,2),r=(t[0],t[1]);return i.profileService.get(r.userId).pipe(Object(q.a)((function(e){return w({profile:e})})),Object(N.a)((function(e){return Object(M.a)(_({error:e}))})))})))})),this.updateProfile$=Object(p.d)((function(){return i.actions$.pipe(Object(p.e)(T),Object(J.a)((function(e){return i.profileService.put(e.profile).pipe(Object(q.a)((function(e){return L({profile:e})})),Object(N.a)((function(e){return Object(M.a)(U({error:e}))})))})))}))}).\u0275fac=function(e){return new(e||o)(l.Yb(p.a),l.Yb(u),l.Yb(b.h))},o.\u0275prov=l.Kb({token:o,factory:o.\u0275fac}),o),V=Object(b.p)({profileloaded:!1,loadProfileloading:!1,updateProfileLoading:!1},Object(b.r)(C,(function(e){return Object.assign(Object.assign({},e),{loadProfileloading:!0})})),Object(b.r)(_,(function(e,t){var r=t.error;return Object.assign(Object.assign({},e),{loadProfileloading:!1,loadProfileError:r})})),Object(b.r)(w,(function(e,t){var r=t.profile;return Object.assign(Object.assign({},e),{loadProfileloading:!1,profileloaded:!0,profile:r})})),Object(b.r)(T,(function(e){return Object.assign(Object.assign({},e),{updateProfileLoading:!0})})),Object(b.r)(U,(function(e,t){var r=t.error;return Object.assign(Object.assign({},e),{updateProfileLoading:!1,updateProfileError:r})})),Object(b.r)(L,(function(e,t){var r=t.profile;return Object.assign(Object.assign({},e),{updateProfileLoading:!1,profile:r})})));function W(e,t){return V(e,t)}var z,D=r("Fk/C"),H=((z=function e(){_classCallCheck(this,e)}).\u0275mod=l.Mb({type:z}),z.\u0275inj=l.Lb({factory:function(e){return new(e||z)},providers:[u],imports:[[f.a,D.a,b.j.forFeature("profile",W),p.c.forFeature([R]),$]]}),z)}}]);