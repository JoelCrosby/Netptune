function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,a=!1,o=void 0;try{for(var c,i=t[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(s){a=!0,o=s}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{iGD7:function(t,e,r){"use strict";r.r(e),r.d(e,"BoardsModule",(function(){return ce}));var n,a,o=r("AytR"),c=r("8Y7J"),i=r("IheW"),s=((n=function(){function t(e){_classCallCheck(this,t),this.http=e}return _createClass(t,[{key:"get",value:function(t){return this.http.get(o.a.apiEndpoint+"api/boardgroups",{params:{boardId:t.toString()}})}},{key:"post",value:function(t){return this.http.post(o.a.apiEndpoint+"api/boardgroups",t)}},{key:"moveTaskInBoardGroup",value:function(t){return this.http.post(o.a.apiEndpoint+"api/porojecttasks/movetaskingrouprequest",t)}},{key:"delete",value:function(t){return this.http.delete(o.a.apiEndpoint+"api/boardgroups/".concat(t.id))}},{key:"put",value:function(t){return this.http.put(o.a.apiEndpoint+"api/boardgroups",t)}}]),t}()).\u0275fac=function(t){return new(t||n)(c.Yb(i.b))},n.\u0275prov=c.Kb({token:n,factory:n.\u0275fac}),n),d=r("DQLy"),u=r("DRwZ"),b=Object(u.a)(),p=b.getInitialState({loading:!1,loaded:!1,loadingCreate:!1}),l=Object(d.o)("boards"),g=b.getSelectors(),O=g.selectEntities,f=g.selectAll,j=Object(d.q)(l,f),h=(Object(d.q)(l,O),Object(d.q)(l,(function(t){return t.loading})),Object(d.q)(l,(function(t){return t.loaded})),Object(d.q)(l,(function(t){return t.currentBoard}))),k=r("Yml6"),v=r("LRne"),m=r("zp1y"),y=r("pLZG"),C=r("eIep"),B=r("lJxs"),D=r("JIr8"),x=r("vkgz"),I=Object(d.n)("[BoardGroups] Clear State"),G=Object(d.n)("[BoardGroups] Load Board Groups"),_=Object(d.n)("[BoardGroups] Load Board Groups Success ",Object(d.s)()),S=Object(d.n)("[BoardGroups] Load Board Groups Fail",Object(d.s)()),w=Object(d.n)("[BoardGroups] Create Board Group",Object(d.s)()),T=Object(d.n)("[BoardGroups] Create Board Group Success",Object(d.s)()),$=Object(d.n)("[BoardGroups] Create Board Group Fail",Object(d.s)()),L=Object(d.n)("[BoardGroups] Select Board Group",Object(d.s)()),M=Object(d.n)("[BoardGroups] Delete Board Group",Object(d.s)()),A=Object(d.n)("[BoardGroups] Delete Board Group Success",Object(d.s)()),P=Object(d.n)("[BoardGroups] Delete Board Group Fail",Object(d.s)()),E=Object(d.n)("[BoardGroups] Edit Board Group",Object(d.s)()),z=Object(d.n)("[BoardGroups] Edit Board Group Success",Object(d.s)()),F=Object(d.n)("[BoardGroups] Edit Board Group Fail",Object(d.s)()),U=Object(d.n)("[BoardGroups] Move Task In BoardGroup",Object(d.s)()),q=Object(d.n)("[BoardGroups] Move Task In BoardGroup Success"),Y=Object(d.n)("[BoardGroups] Move Task In BoardGroup Fail",Object(d.s)()),R=r("lc/E"),V=r("zHaW"),W=((a=function t(e,r,n,a){var o=this;_classCallCheck(this,t),this.actions$=e,this.boardGroupsService=r,this.store=n,this.snackbar=a,this.loadBoardGroups$=Object(k.d)((function(){return o.actions$.pipe(Object(k.e)(G),Object(m.a)(o.store.select(h)),Object(y.a)((function(t){var e=_slicedToArray(t,2);return e[0],void 0!==e[1]})),Object(C.a)((function(t){var e=_slicedToArray(t,2),r=(e[0],e[1]);return o.boardGroupsService.get(r.id).pipe(Object(B.a)((function(t){return _({boardGroups:t})})),Object(D.a)((function(t){return Object(v.a)(S({error:t}))})))})))})),this.createBoardGroup$=Object(k.d)((function(){return o.actions$.pipe(Object(k.e)(w),Object(C.a)((function(t){return o.boardGroupsService.post(t.boardGroup).pipe(Object(B.a)((function(t){return T({boardGroup:t})})),Object(D.a)((function(t){return Object(v.a)($({error:t}))})))})))})),this.deleteBoardGroups$=Object(k.d)((function(){return o.actions$.pipe(Object(k.e)(M),Object(C.a)((function(t){return o.boardGroupsService.delete(t.boardGroup).pipe(Object(x.a)((function(){return o.snackbar.open("Board Group Deleted")})),Object(B.a)((function(t){return A({boardGroup:t})})),Object(D.a)((function(t){return Object(v.a)(P({error:t}))})))})))})),this.editBoardGroups$=Object(k.d)((function(){return o.actions$.pipe(Object(k.e)(E),Object(C.a)((function(t){return o.boardGroupsService.put(t.boardGroup).pipe(Object(B.a)((function(t){return z({boardGroup:t})})),Object(D.a)((function(t){return Object(v.a)(F({error:t}))})))})))})),this.moveTaskInBoardGroup$=Object(k.d)((function(){return o.actions$.pipe(Object(k.e)(U),Object(C.a)((function(t){return o.boardGroupsService.moveTaskInBoardGroup(t.request).pipe(Object(B.a)(q),Object(D.a)((function(t){return Object(v.a)(Y({error:t}))})))})))})),this.onWorkspaceSelected$=Object(k.d)((function(){return o.actions$.pipe(Object(k.e)(R.m),Object(B.a)(I))}))}).\u0275fac=function(t){return new(t||a)(c.Yb(k.a),c.Yb(s),c.Yb(d.h),c.Yb(V.b))},a.\u0275prov=c.Kb({token:a,factory:a.\u0275fac}),a),H=r("PCNd"),K=r("Fk/C"),J=r("iInd"),Q=Object(u.a)(),N=Q.getInitialState({loading:!1,loaded:!1,loadingCreate:!1}),Z=Object(d.o)("boardgroups"),X=Q.getSelectors(),tt=X.selectEntities,et=X.selectAll,rt=Object(d.q)(Z,et);Object(d.q)(Z,tt),Object(d.q)(Z,(function(t){return t.loading})),Object(d.q)(Z,(function(t){return t.loaded})),Object(d.q)(Z,(function(t){return t.currentBoardGroup}));var nt,at,ot=function(t){return t[t.Basic=0]="Basic",t[t.Backlog=1]="Backlog",t[t.Done=2]="Done",t}({}),ct=Object(d.n)("[Boards] Clear State"),it=Object(d.n)("[Boards] Load Boards"),st=Object(d.n)("[Boards] Load Boards Success ",Object(d.s)()),dt=Object(d.n)("[Boards] Load Boards Fail",Object(d.s)()),ut=Object(d.n)("[Boards] Create Board",Object(d.s)()),bt=Object(d.n)("[Boards] Create Board Success",Object(d.s)()),pt=Object(d.n)("[Boards] Create Board Fail",Object(d.s)()),lt=Object(d.n)("[Boards] Select Board",Object(d.s)()),gt=Object(d.n)("[Boards] Delete Board",Object(d.s)()),Ot=Object(d.n)("[Boards] Delete Board Success",Object(d.s)()),ft=Object(d.n)("[Boards] Delete Board Fail",Object(d.s)()),jt=r("SxV6"),ht=r("S1Dn"),kt=r("ltgo"),vt=r("4/QA"),mt=r("O13u"),yt=r("SVse"),Ct=r("1G5W"),Bt=r("2Vo4"),Dt=r("XNiG"),xt=r("xgIS"),It=r("PDjf"),Gt=r("UTQ3"),_t=((nt=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||nt)},nt.\u0275cmp=c.Ib({type:nt,selectors:[["app-board-group-card"]],inputs:{task:"task"},decls:4,vars:2,consts:[[1,"group-task-card"],[1,"task-name-text"],["size","32","textSizeRatio","2",1,"task-card-user-chip",3,"name"]],template:function(t,e){1&t&&(c.Ub(0,"mat-card",0),c.Ub(1,"div",1),c.Bc(2),c.Tb(),c.Pb(3,"ngx-avatar",2),c.Tb()),2&t&&(c.Cb(2),c.Dc(" ",e.task.name," "),c.Cb(1),c.mc("name",e.task.ownerUsername))},directives:[It.a,Gt.a],styles:[".group-task-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;padding:8px;font-size:14px;letter-spacing:.1px;cursor:pointer}.task-name-text[_ngcontent-%COMP%]{margin-bottom:.6rem;line-height:1.4rem}.task-card-user-chip[_ngcontent-%COMP%]{align-self:flex-end}"],changeDetection:0}),nt),St=r("Dxy4"),wt=r("gcYM"),Tt=r("e6WT"),$t=r("8sFK"),Lt=["taskInput"],Mt=["taskInlineContainer"],At=((at=function(){function t(e){_classCallCheck(this,t),this.cd=e,this.canceled=new c.o,this.onDestroy$=new Dt.a}return _createClass(t,[{key:"ngOnInit",value:function(){Object(xt.a)(document,"mousedown",{passive:!0}).pipe(Object(Ct.a)(this.onDestroy$),Object(wt.a)(200),Object(x.a)(this.handleDocumentClick.bind(this))).subscribe()}},{key:"ngAfterViewInit",value:function(){this.inputElementRef.nativeElement.focus()}},{key:"ngOnDestroy",value:function(){this.onDestroy$.next(),this.onDestroy$.complete()}},{key:"handleDocumentClick",value:function(t){this.containerElementRef.nativeElement.contains(t.target)||(this.canceled.emit(),this.cd.detectChanges())}}]),t}()).\u0275fac=function(t){return new(t||at)(c.Ob(c.h))},at.\u0275cmp=c.Ib({type:at,selectors:[["app-board-group-task-inline"]],viewQuery:function(t,e){var r;1&t&&(c.Fc(Lt,!0),c.Fc(Mt,!0)),2&t&&(c.qc(r=c.dc())&&(e.inputElementRef=r.first),c.qc(r=c.dc())&&(e.containerElementRef=r.first))},outputs:{canceled:"canceled"},decls:6,vars:0,consts:[[1,"inline-task-container"],["taskInlineContainer",""],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","3","cdkAutosizeMaxRows","12",1,"inline-task-textarea"],["taskInput","","autosize","cdkTextareaAutosize"]],template:function(t,e){1&t&&(c.Ub(0,"div",0,1),c.Ub(2,"textarea",2,3),c.Bc(5,"  "),c.Tb(),c.Tb())},directives:[Tt.b,$t.b],styles:[".inline-task-container[_ngcontent-%COMP%]{border-radius:.2rem;overflow:hidden;padding:.4rem}.inline-task-textarea[_ngcontent-%COMP%]{border:0;font-family:inherit;font-size:16px;width:100%}"],changeDetection:0}),at),Pt=["container"];function Et(t,e){if(1&t&&c.Pb(0,"app-board-group-card",7),2&t){var r=e.$implicit;c.mc("cdkDragData",r)("task",r)}}function zt(t,e){if(1&t){var r=c.Vb();c.Ub(0,"div",8),c.Ub(1,"button",9),c.cc("click",(function(){return c.tc(r),c.gc().inlineActive=!0})),c.Bc(2," ADD TASK "),c.Tb(),c.Tb()}}function Ft(t,e){if(1&t){var r=c.Vb();c.Ub(0,"app-board-group-task-inline",10),c.cc("canceled",(function(){return c.tc(r),c.gc().onInlineCanceled()})),c.Tb()}}var Ut,qt=["*"],Yt=((Ut=function(){function t(e){_classCallCheck(this,t),this.store=e,this.focusedSubject=new Bt.a(!1),this.onDestroy$=new Dt.a,this.focused$=this.focusedSubject.pipe(),this.inlineActive=!1}return _createClass(t,[{key:"ngOnInit",value:function(){console.log({id:this.group.id,name:this.group.name,siblingIds:this.siblingIds})}},{key:"ngAfterViewInit",value:function(){var t=this,e=this.container.nativeElement;Object(xt.a)(e,"mouseenter",{passive:!0}).pipe(Object(Ct.a)(this.onDestroy$)).subscribe({next:function(){return t.focusedSubject.next(!0)}}),Object(xt.a)(e,"mouseleave",{passive:!0}).pipe(Object(Ct.a)(this.onDestroy$)).subscribe({next:function(){return t.focusedSubject.next(!1)}})}},{key:"ngOnDestroy",value:function(){this.onDestroy$.next(),this.onDestroy$.complete()}},{key:"onInlineCanceled",value:function(){this.inlineActive=!1}},{key:"drop",value:function(t){console.log({container:t.container.data}),t.previousContainer===t.container?Object(kt.f)(t.container.data,t.previousIndex,t.currentIndex):Object(kt.g)(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex);var e=t.container.data,r=e[t.currentIndex-1],n=e[t.currentIndex+1],a=r&&r.sortOrder,o=n&&n.sortOrder,c=Object(vt.a)(a,o),i=t.item.data;i.sortOrder!==c&&this.moveTask(i,c)}},{key:"moveTask",value:function(t,e){}}]),t}()).\u0275fac=function(t){return new(t||Ut)(c.Ob(d.h))},Ut.\u0275cmp=c.Ib({type:Ut,selectors:[["app-board-group"]],viewQuery:function(t,e){var r;1&t&&c.Fc(Pt,!0),2&t&&c.qc(r=c.dc())&&(e.container=r.first)},inputs:{dragListId:"dragListId",group:"group",siblingIds:"siblingIds"},ngContentSelectors:qt,decls:9,vars:8,consts:[[1,"board-group-card"],[1,"task-container"],["container",""],["cdkDropList","",1,"board-task-list",3,"id","cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped"],["cdkDrag","","class","board-group-task-card",3,"cdkDragData","task",4,"ngFor","ngForOf"],["class","create-task",4,"ngIf"],[3,"canceled",4,"ngIf"],["cdkDrag","",1,"board-group-task-card",3,"cdkDragData","task"],[1,"create-task"],["mat-button","","color","primary",3,"click"],[3,"canceled"]],template:function(t,e){1&t&&(c.lc(),c.Ub(0,"div",0),c.kc(1),c.Ub(2,"div",1,2),c.Ub(4,"div",3),c.cc("cdkDropListDropped",(function(t){return e.drop(t)})),c.zc(5,Et,1,2,"app-board-group-card",4),c.Tb(),c.zc(6,zt,3,0,"div",5),c.hc(7,"async"),c.zc(8,Ft,1,0,"app-board-group-task-inline",6),c.Tb(),c.Tb()),2&t&&(c.Cb(4),c.mc("id",e.dragListId)("cdkDropListConnectedTo",e.siblingIds)("cdkDropListData",e.group.tasks),c.Cb(1),c.mc("ngForOf",e.group.tasks),c.Cb(1),c.mc("ngIf",c.ic(7,6,e.focused$)&&!e.inlineActive),c.Cb(2),c.mc("ngIf",e.inlineActive))},directives:[kt.c,yt.k,yt.l,_t,kt.a,St.b,At],pipes:[yt.b],styles:[".task-container[_ngcontent-%COMP%]{flex:1;padding:.6rem}.board-group-card[_ngcontent-%COMP%]{flex:1;margin:0;display:flex;flex-direction:column;padding:0;height:100%;border-radius:.3rem}.create-task[_ngcontent-%COMP%]{padding:.3rem}.create-task[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;width:100%}.board-task-list[_ngcontent-%COMP%]{display:flex;flex-direction:column}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-preview[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)!important}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.board-task-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .board-group-task-card[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .14s cubic-bezier(0,0,.2,1)}"]}),Ut),Rt=r("Tj54");function Vt(t,e){if(1&t&&(c.Ub(0,"app-board-group",4),c.Ub(1,"span",5),c.Bc(2),c.Ub(3,"button",6),c.Ub(4,"mat-icon"),c.Bc(5,"close"),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&t){var r=e.$implicit,n=c.gc().ngIf,a=c.gc();c.mc("cdkDragData",r)("group",r)("siblingIds",a.getsiblingIds(r,n))("dragListId",a.getDragListId(r)),c.Cb(2),c.Dc(" ",r.name," ")}}function Wt(t,e){if(1&t){var r=c.Vb();c.Ub(0,"div",2),c.cc("cdkDropListDropped",(function(t){return c.tc(r),c.gc().drop(t)})),c.zc(1,Vt,6,5,"app-board-group",3),c.Tb()}if(2&t){var n=e.ngIf;c.mc("cdkDropListData",n),c.Cb(1),c.mc("ngForOf",n)}}var Ht,Kt,Jt,Qt,Nt=[{path:"**",component:(Ht=function(){function t(e){_classCallCheck(this,t),this.store=e}return _createClass(t,[{key:"ngOnInit",value:function(){this.boards$=this.store.pipe(Object(d.t)(j)),this.groups$=this.store.pipe(Object(d.t)(rt)),this.selectedBoard$=this.store.pipe(Object(d.t)(h)),this.selectedBoardName$=this.store.pipe(Object(d.t)(h),Object(B.a)((function(t){return t&&t.name}))),this.store.dispatch(it()),this.store.dispatch(G())}},{key:"boardClicked",value:function(t){this.store.dispatch(lt({board:t}))}},{key:"showAddModal",value:function(){}},{key:"getsiblingIds",value:function(t,e){return e.filter((function(e){return e.id!==t.id})).map((function(t){return"bg-".concat(t.id.toString())}))}},{key:"getDragListId",value:function(t){return"bg-".concat(t.id.toString())}},{key:"drop",value:function(t){Object(kt.f)(t.container.data,t.previousIndex,t.currentIndex);var e=t.container.data,r=e[t.currentIndex-1],n=e[t.currentIndex+1],a=r&&r.sortOrder,o=n&&n.sortOrder,c=Object(vt.a)(a,o),i=t.item.data;i.sortOrder!==c&&this.moveBoardGroup(i,c)}},{key:"moveBoardGroup",value:function(t,e){this.store.dispatch(E({boardGroup:Object.assign(Object.assign({},t),{sortOrder:e})}))}},{key:"createBoard",value:function(){var t=this;this.store.select(ht.b).pipe(Object(jt.a)(),Object(x.a)((function(e){t.store.dispatch(ut({board:{name:"Todo",identifier:"todo-0",projectId:e.id}}))}))).subscribe()}},{key:"createBoardGroup",value:function(t,e){var r=this;this.store.select(h).pipe(Object(jt.a)(),Object(x.a)((function(n){r.store.dispatch(w({boardGroup:{name:t,sortOrder:e,boardId:n.id,type:ot.Basic}}))}))).subscribe()}}]),t}(),Ht.\u0275fac=function(t){return new(t||Ht)(c.Ob(d.h))},Ht.\u0275cmp=c.Ib({type:Ht,selectors:[["ng-component"]],decls:3,vars:6,consts:[[3,"marginBottom","verticalPadding","fullHeight"],["cdkDropList","","class","board-groups","cdkDropListOrientation","horizontal",3,"cdkDropListData","cdkDropListDropped",4,"ngIf"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"board-groups",3,"cdkDropListData","cdkDropListDropped"],["cdkDrag","","class","board-group",3,"cdkDragData","group","siblingIds","dragListId",4,"ngFor","ngForOf"],["cdkDrag","",1,"board-group",3,"cdkDragData","group","siblingIds","dragListId"],["cdkDragHandle","",1,"board-group-header"],["mat-icon-button","",1,"delete-board-group-btn"]],template:function(t,e){1&t&&(c.Ub(0,"app-page-container",0),c.zc(1,Wt,2,2,"div",1),c.hc(2,"async"),c.Tb()),2&t&&(c.mc("marginBottom",!1)("verticalPadding",!1)("fullHeight",!0),c.Cb(1),c.mc("ngIf",c.ic(2,4,e.groups$)))},directives:[mt.a,yt.l,kt.c,yt.k,Yt,kt.a,kt.b,St.b,Rt.a],pipes:[yt.b],styles:[".action-bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;flex:0 0 64px}.board-groups[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:row;flex:1;padding-bottom:1rem}.board-group[_ngcontent-%COMP%]{margin-right:1rem;flex:0 0 300px;border-radius:.4rem;display:flex;flex-direction:column;justify-content:stretch;align-items:stretch}.board-group[_ngcontent-%COMP%]:last-child{margin-right:0!important}.board-group-header[_ngcontent-%COMP%]{font-size:14px;font-weight:500;letter-spacing:.1px;padding:16px}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-preview[_ngcontent-%COMP%]{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);transition:box-shadow .3s cubic-bezier(0,0,.2,1)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.board-groups.cdk-drop-list-dragging[_ngcontent-%COMP%]   .board-group[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .5s cubic-bezier(0,0,.2,1)}.board-group-header[_ngcontent-%COMP%]:hover   .delete-board-group-btn[_ngcontent-%COMP%]{visibility:visible}.delete-board-group-btn[_ngcontent-%COMP%]{visibility:hidden}"]}),Ht)}],Zt=((Qt=function t(){_classCallCheck(this,t)}).\u0275mod=c.Mb({type:Qt}),Qt.\u0275inj=c.Lb({factory:function(t){return new(t||Qt)},imports:[[J.i.forChild(Nt)],J.i]}),Qt),Xt=((Jt=function(){function t(e){_classCallCheck(this,t),this.http=e}return _createClass(t,[{key:"get",value:function(t){return this.http.get(o.a.apiEndpoint+"api/boards",{params:(new i.d).append("projectId",t.toString())})}},{key:"post",value:function(t){return this.http.post(o.a.apiEndpoint+"api/boards",t)}},{key:"delete",value:function(t){return this.http.delete(o.a.apiEndpoint+"api/boards/".concat(t.id))}}]),t}()).\u0275fac=function(t){return new(t||Jt)(c.Yb(i.b))},Jt.\u0275prov=c.Kb({token:Jt,factory:Jt.\u0275fac}),Jt),te=((Kt=function t(e,r,n,a){var o=this;_classCallCheck(this,t),this.actions$=e,this.boardsService=r,this.store=n,this.snackbar=a,this.loadBoards$=Object(k.d)((function(){return o.actions$.pipe(Object(k.e)(it),Object(m.a)(o.store.select(ht.b)),Object(y.a)((function(t){var e=_slicedToArray(t,2);return e[0],void 0!==e[1]})),Object(C.a)((function(t){var e=_slicedToArray(t,2),r=(e[0],e[1]);return o.boardsService.get(r.id).pipe(Object(B.a)((function(t){return st({boards:t})})),Object(D.a)((function(t){return Object(v.a)(dt({error:t}))})))})))})),this.loadBoardsSuccess$=Object(k.d)((function(){return o.actions$.pipe(Object(k.e)(st),Object(m.a)(o.store.select(h)),Object(B.a)((function(t){var e=_slicedToArray(t,2),r=e[0];return e[1]?{type:"[N/A]"}:lt({board:r.boards&&r.boards[0]})})))})),this.createBoard$=Object(k.d)((function(){return o.actions$.pipe(Object(k.e)(ut),Object(C.a)((function(t){return o.boardsService.post(t.board).pipe(Object(B.a)((function(t){return bt({board:t})})),Object(D.a)((function(t){return Object(v.a)(pt({error:t}))})))})))})),this.deleteBoards$=Object(k.d)((function(){return o.actions$.pipe(Object(k.e)(gt),Object(C.a)((function(t){return o.boardsService.delete(t.board).pipe(Object(x.a)((function(){return o.snackbar.open("Board Deleted")})),Object(B.a)((function(t){return Ot({board:t})})),Object(D.a)((function(t){return Object(v.a)(ft({error:t}))})))})))})),this.selectBoard$=Object(k.d)((function(){return o.actions$.pipe(Object(k.e)(lt),Object(B.a)((function(t){return G()})))})),this.onWorkspaceSelected$=Object(k.d)((function(){return o.actions$.pipe(Object(k.e)(R.m),Object(B.a)(ct))}))}).\u0275fac=function(t){return new(t||Kt)(c.Yb(k.a),c.Yb(Xt),c.Yb(d.h),c.Yb(V.b))},Kt.\u0275prov=c.Kb({token:Kt,factory:Kt.\u0275fac}),Kt),ee=Object(d.p)(p,Object(d.r)(ct,(function(){return p})),Object(d.r)(it,(function(t){return Object.assign(Object.assign({},t),{loading:!0})})),Object(d.r)(dt,(function(t,e){var r=e.error;return Object.assign(Object.assign({},t),{loadingError:r})})),Object(d.r)(st,(function(t,e){var r=e.boards;return b.setAll(r,Object.assign(Object.assign({},t),{loading:!1,loaded:!0}))})),Object(d.r)(ut,(function(t){return Object.assign(Object.assign({},t),{loading:!0})})),Object(d.r)(pt,(function(t,e){var r=e.error;return Object.assign(Object.assign({},t),{loadingError:r})})),Object(d.r)(bt,(function(t,e){var r=e.board;return b.addOne(r,Object.assign(Object.assign({},t),{loadingCreate:!1}))})),Object(d.r)(lt,(function(t,e){var r=e.board;return Object.assign(Object.assign({},t),{currentBoard:r})})),Object(d.r)(gt,(function(t){return Object.assign(Object.assign({},t),{deleteState:{loading:!0}})})),Object(d.r)(ft,(function(t,e){var r=e.error;return Object.assign(Object.assign({},t),{deleteState:{loading:!1,error:r}})})),Object(d.r)(Ot,(function(t,e){var r=e.board;return b.removeOne(r.id,Object.assign(Object.assign({},t),{deleteState:{loading:!1}}))})));function re(t,e){return ee(t,e)}var ne=Object(d.p)(N,Object(d.r)(I,(function(){return N})),Object(d.r)(G,(function(t){return Object.assign(Object.assign({},t),{loading:!0})})),Object(d.r)(S,(function(t,e){var r=e.error;return Object.assign(Object.assign({},t),{loadingError:r})})),Object(d.r)(_,(function(t,e){var r=e.boardGroups;return Q.setAll(r,Object.assign(Object.assign({},t),{loading:!1,loaded:!0}))})),Object(d.r)(w,(function(t){return Object.assign(Object.assign({},t),{loading:!0})})),Object(d.r)($,(function(t,e){var r=e.error;return Object.assign(Object.assign({},t),{loadingError:r})})),Object(d.r)(T,(function(t,e){var r=e.boardGroup;return Q.addOne(r,Object.assign(Object.assign({},t),{loadingCreate:!1}))})),Object(d.r)(L,(function(t,e){var r=e.boardGroup;return Object.assign(Object.assign({},t),{currentBoardGroup:r})})),Object(d.r)(M,(function(t){return Object.assign(Object.assign({},t),{deleteState:{loading:!0}})})),Object(d.r)(P,(function(t,e){var r=e.error;return Object.assign(Object.assign({},t),{deleteState:{loading:!1,error:r}})})),Object(d.r)(A,(function(t,e){var r=e.boardGroup;return Q.removeOne(r.id,Object.assign(Object.assign({},t),{deleteState:{loading:!1}}))})));function ae(t,e){return ne(t,e)}var oe,ce=((oe=function t(){_classCallCheck(this,t)}).\u0275mod=c.Mb({type:oe}),oe.\u0275inj=c.Lb({factory:function(t){return new(t||oe)},providers:[Xt,s],imports:[[H.a,K.a,d.j.forFeature("boards",re),d.j.forFeature("boardgroups",ae),k.c.forFeature([te,W]),Zt]]}),oe)}}]);