(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{xaGl:function(e,t,i){"use strict";i.r(t),i.d(t,"ProfileModule",(function(){return z}));var r=i("AytR"),a=i("8Y7J"),o=i("IheW");let s=(()=>{class e{constructor(e){this.http=e}get(e){return this.http.get(r.a.apiEndpoint+`api/users/${e}`)}post(e){return this.http.post(r.a.apiEndpoint+`api/users/${e.id}`,e)}put(e){return this.http.put(r.a.apiEndpoint+`api/users/${e.id}`,e)}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(o.b))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac}),e})();var n=i("PCNd"),c=i("Yml6"),l=i("DQLy"),p=i("iInd");const b=Object(l.o)("profile"),f=Object(l.q)(b,e=>e.profile),d=(Object(l.q)(b,e=>e.loadProfileloading),Object(l.q)(b,e=>e.profileloaded),Object(l.q)(b,e=>e.updateProfileLoading));var u=i("s7LF"),m=i("FhT+"),h=i("vkgz"),O=i("UXun"),j=i("pLZG"),g=i("IzEk");const P=Object(l.n)("[Profile] Load Profile"),w=Object(l.n)("[Profile] Load Profile Success",Object(l.s)()),U=Object(l.n)("[Profile] Load Profile Fail",Object(l.s)()),v=Object(l.n)("[Profile] Update Profile",Object(l.s)()),y=Object(l.n)("[Profile] Update Profile Success",Object(l.s)()),L=Object(l.n)("[Profile] Update Profile Fail",Object(l.s)());var T=i("O13u"),k=i("Q2Ze"),C=i("e6WT"),x=i("Tj54"),G=i("Dxy4"),I=i("SVse");const $=[{path:"**",component:(()=>{class e{constructor(e){this.store=e,this.profileGroup=new u.e({firstname:new u.c,lastname:new u.c,email:new u.c}),this.onLogoutClicked=()=>this.store.dispatch(m.c())}get firstname(){return this.profileGroup.get("firstname")}get lastname(){return this.profileGroup.get("lastname")}get email(){return this.profileGroup.get("email")}ngOnInit(){this.store.dispatch(P()),this.loadingUpdate$=this.store.pipe(Object(l.t)(d),Object(h.a)(e=>e?this.profileGroup.disable():this.profileGroup.enable()),Object(O.a)()),this.store.select(f).pipe(Object(j.a)(e=>!!e),Object(g.a)(1),Object(h.a)(e=>{this.profile=e,this.firstname.setValue(e.firstname),this.lastname.setValue(e.lastname),this.email.setValue(e.email)})).subscribe()}updateClicked(){const e=Object.assign(Object.assign({},this.profile),{firstname:this.firstname.value,lastname:this.lastname.value,email:this.email.value});this.store.dispatch(v({profile:e}))}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(l.h))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-profile"]],decls:24,vars:7,consts:[[3,"showProgress"],[1,"px-0",3,"formGroup"],["appearance","outline",1,"profile-input","mb-3"],["matInput","","placeholder","Edit Firstname","formControlName","firstname"],["matSuffix",""],["matInput","","placeholder","Edit Lastname","formControlName","lastname"],["matInput","","placeholder","Change Email Address","formControlName","email"],["mat-button","",3,"disabled","click"]],template:function(e,t){1&e&&(a.Ub(0,"app-page-container",0),a.hc(1,"async"),a.Ub(2,"form",1),a.Ub(3,"mat-form-field",2),a.Ub(4,"mat-label"),a.Bc(5,"Firstname"),a.Tb(),a.Pb(6,"input",3),a.Ub(7,"mat-icon",4),a.Bc(8,"perm_identity"),a.Tb(),a.Tb(),a.Ub(9,"mat-form-field",2),a.Ub(10,"mat-label"),a.Bc(11,"Lastname"),a.Tb(),a.Pb(12,"input",5),a.Ub(13,"mat-icon",4),a.Bc(14,"perm_identity"),a.Tb(),a.Tb(),a.Ub(15,"mat-form-field",2),a.Ub(16,"mat-label"),a.Bc(17,"Email Address"),a.Tb(),a.Pb(18,"input",6),a.Ub(19,"mat-icon",4),a.Bc(20,"mail"),a.Tb(),a.Tb(),a.Ub(21,"button",7),a.cc("click",(function(){return t.updateClicked()})),a.hc(22,"async"),a.Bc(23," Update "),a.Tb(),a.Tb(),a.Tb()),2&e&&(a.mc("showProgress",a.ic(1,3,t.loadingUpdate$)),a.Cb(2),a.mc("formGroup",t.profileGroup),a.Cb(19),a.mc("disabled",a.ic(22,5,t.loadingUpdate$)))},directives:[T.a,u.r,u.l,u.f,k.c,k.g,C.b,u.b,u.k,u.d,x.a,k.h,G.b],pipes:[I.b],styles:["mat-form-field[_ngcontent-%COMP%]{max-width:480px;width:360px;display:block}@media only screen and (max-width:600px){mat-form-field[_ngcontent-%COMP%]{max-width:none;width:100%}}"]}),e})()}];let E=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[p.i.forChild($)],p.i]}),e})();var F=i("fcPU"),B=i("LRne"),S=i("zp1y"),Y=i("eIep"),J=i("lJxs"),M=i("JIr8");let q=(()=>{class e{constructor(e,t,i){this.actions$=e,this.profileService=t,this.store=i,this.loadProfile$=Object(c.d)(()=>this.actions$.pipe(Object(c.e)(P),Object(S.a)(this.store.select(F.d)),Object(Y.a)(([e,t])=>this.profileService.get(t.userId).pipe(Object(J.a)(e=>w({profile:e})),Object(M.a)(e=>Object(B.a)(U({error:e}))))))),this.updateProfile$=Object(c.d)(()=>this.actions$.pipe(Object(c.e)(v),Object(Y.a)(e=>this.profileService.put(e.profile).pipe(Object(J.a)(e=>y({profile:e})),Object(M.a)(e=>Object(B.a)(L({error:e})))))))}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(c.a),a.Yb(s),a.Yb(l.h))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac}),e})();const N=Object(l.p)({profileloaded:!1,loadProfileloading:!1,updateProfileLoading:!1},Object(l.r)(P,e=>Object.assign(Object.assign({},e),{loadProfileloading:!0})),Object(l.r)(U,(e,{error:t})=>Object.assign(Object.assign({},e),{loadProfileloading:!1,loadProfileError:t})),Object(l.r)(w,(e,{profile:t})=>Object.assign(Object.assign({},e),{loadProfileloading:!1,profileloaded:!0,profile:t})),Object(l.r)(v,e=>Object.assign(Object.assign({},e),{updateProfileLoading:!0})),Object(l.r)(L,(e,{error:t})=>Object.assign(Object.assign({},e),{updateProfileLoading:!1,updateProfileError:t})),Object(l.r)(y,(e,{profile:t})=>Object.assign(Object.assign({},e),{updateProfileLoading:!1,profile:t})));function V(e,t){return N(e,t)}var _=i("Fk/C");let z=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},providers:[s],imports:[[n.a,_.a,l.j.forFeature("profile",V),c.c.forFeature([q]),E]]}),e})()}}]);